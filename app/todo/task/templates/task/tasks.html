{% extends 'base.html' %}

{% block content %}

    <div id="app">

        <form  @submit.prevent="createTask">
            {% csrf_token %}
            <div class="form-group row">
                <div class="col-10">
                    <label class="form-label">Create New Task</label>
                    <input name="title" class="form-control" v-model="task">
                </div>
                <div class="col-auto d-flex">
                    <button type="submit" class="btn btn-success mt-auto">Submit</button>
                </div>
            </div>
        </form>   

        <div class="mt-2">
            <div class="card"
             v-for="(task, index) in taskList"
             @click="completeTask(task.id, index)"
             :class="{'completed': task.completed}">
                <div class="card-body">
                    [[task.title]]
                    <button type="button" 
                    style="float: right;" 
                    class="btn close"
                    @click.stop="deleteTask(task.id, index)">
                        <span>&times;</span>
                </button>
                <button type="button" 
                style="float: right;" 
                class="btn close"
                @click.stop="editTask(task.id, index)">
                    <img src="/static/img/pencil.svg" alt="Bootstrap" width="16" height="16">
                </button>

                </div>
            </div>
        </div>

    </div>
    {% endblock %}


